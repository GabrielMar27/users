{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\dadadad\\\\frontend\\\\src\\\\components\\\\login.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { loginDB } from \"../functions/dbAcctoions\";\nimport { User } from \"../classes/user\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [user, setUser] = useState({\n    email: \"\",\n    parola: \"\"\n  });\n  const navigate = useNavigate();\n  const handleSubmit = async () => {\n    try {\n      const data = await loginDB(user);\n      if (data && data.length > 0) {\n        // Înlocuiește sessionStorage.setItem cu localStorage.setItem, dacă este necesar\n        sessionStorage.setItem(\"User\", JSON.stringify(data[0]));\n        sessionStorage.setItem(\"userLoggedIn\", true);\n        navigate(\"/\");\n      } else {\n        alert(\"Datele de conectare introduse greșit\");\n      }\n    } catch (error) {\n      console.error(\"Eroare la autentificare:\", error);\n      alert(\"A apărut o eroare la autentificare. Vă rugăm să încercați din nou.\");\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser(prevState => {\n      if (prevState) {\n        const lowercasedValue = [\"email\"].includes(name) ? value.toLowerCase() : value;\n        return {\n          ...prevState,\n          [name]: lowercasedValue\n        };\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Email:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      onChange: event => {\n        handleChange(event);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Parola:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"parola\",\n      onChange: event => {\n        handleChange(event);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/user/newUser\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Login, \"hPhkAO8SE/f0bO88znOowFDRY9g=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","loginDB","User","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","user","setUser","email","parola","navigate","handleSubmit","data","length","sessionStorage","setItem","JSON","stringify","alert","error","console","handleChange","e","name","value","target","prevState","lowercasedValue","includes","toLowerCase","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","event","onClick","to","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/dadadad/frontend/src/components/login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { loginDB } from \"../functions/dbAcctoions\";\r\nimport { User } from \"../classes/user\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  const [user, setUser] = useState({ email: \"\", parola: \"\" });\r\n  const navigate = useNavigate();\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const data = await loginDB(user);\r\n\r\n      if (data && data.length > 0) {\r\n        // Înlocuiește sessionStorage.setItem cu localStorage.setItem, dacă este necesar\r\n        sessionStorage.setItem(\"User\", JSON.stringify(data[0]));\r\n        sessionStorage.setItem(\"userLoggedIn\", true);\r\n        navigate(\"/\");\r\n      } else {\r\n        alert(\"Datele de conectare introduse greșit\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Eroare la autentificare:\", error);\r\n      alert(\r\n        \"A apărut o eroare la autentificare. Vă rugăm să încercați din nou.\"\r\n      );\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser((prevState) => {\r\n      if (prevState) {\r\n        const lowercasedValue = [\"email\"].includes(name)\r\n          ? value.toLowerCase()\r\n          : value;\r\n        return { ...prevState, [name]: lowercasedValue };\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <h1>Login</h1>\r\n      <label>Email:</label>\r\n      <input\r\n        type=\"text\"\r\n        name=\"email\"\r\n        onChange={(event) => {\r\n          handleChange(event);\r\n        }}\r\n      ></input>\r\n      <br />\r\n      <label>Parola:</label>\r\n      <input\r\n        type=\"text\"\r\n        name=\"parola\"\r\n        onChange={(event) => {\r\n          handleChange(event);\r\n        }}\r\n      ></input>\r\n      <br />\r\n      <button onClick={handleSubmit}>Login</button>\r\n      <br />\r\n      <Link to=\"/user/newUser\">Register</Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}